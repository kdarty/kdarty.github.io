<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="Sticy Header and Footer Bootstrap Test Page">
    <meta name="author" content="Kevin Darty">
    <link rel="icon" href="favicon.ico">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">

    <title>Social Feed - Kevin Darty</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">

    <!-- Bootstrap Theme -->
    <link href="css/amelia-theme.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/sticky-footer-navbar.css" rel="stylesheet">

    <style>
      h1 {
        margin-left: 27%;
      }
      #profilePhoto {
        margin-bottom: 10px;
      }
      .card {
        padding:1.5rem;
        box-shadow:0 1px 2px #aaa;
        background:white;
        color: #000;
        margin:0 1rem 1rem;
        border-radius:3px;
        user-select:none;
        animation:fly-in-from-left .5s 1s ease both;
        transform-origin:top left;
      }
      .card:nth-child(even){
        animation-name:fly-in-from-right;
        animation-delay:1.1s;
        transform-origin:top right;
      }
      
      @keyframes fly-in-from-left {
        from {
          transform:translateY(15rem) rotate(15deg);
          opacity:0;
        }
      }
      
      @keyframes fly-in-from-right {
        from {
          transform:translateY(15rem) rotate(-15deg);
          opacity:0;
        }
      }
      
      .card:after {
        position:absolute;
        font-size:.9rem;
        top:1.5rem;
        right:1rem;
        content:"i";
        border:thin solid gray;
        color:gray;
        width:1rem;
        line-height:1rem;
        text-align:center;
        border-radius:50%;
        pointer-events:none;
      }
    </style>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-default navbar-fixed-top custom-navbar" role="navigation">
      <div class="container">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <div class="navbar-header">
          <a class="navbar-brand" href="http://www.kevindarty.com">Kevin Darty</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse navbar-left">
          <ul class="nav navbar-nav">
            <li><a href="index.html">Home</a></li>
            <li class="active"><a href="feed.html">Social Feed</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Social <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="http://www.twitter.com/kdarty">Twitter</a></li>
                <li><a href="http://plus.google.com/+KevinDarty/about">Google+</a></li>
                <li><a href="http://www.linkedin.com/in/kevindarty">Linked In</a></li>
                <li><a href="https://www.pinterest.com/kdarty71">Pinterest</a></li>
                <li class="divider"></li>
                <li class="dropdown-header">Blogs</li>
                <li><a href="http://www.kevindarty.net">Programming Blog</a></li>
                <li><a href="http://blog.kevindarty.com">Personal Blog</a></li>
              </ul>
            </li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <!-- Begin page content -->
    <div class="container">
      <div class="row">
        <h1>Social Feed</h1>
        <div id="profilePhoto" class="col-sm-3">
          <a href="https://twitter.com/kdarty"><img class="img-responsive" src="img/Kevin-Darty-2014.png"></a>
        </div>
        <div id="feedContent" class="col-sm-6">
        </div>
        <div class="col-sm-3">
          <img class="img-responsive" src="img/wisdom-of-jimi-hendrix.jpg"/>
        </div>
      </div>
    </div>

    <footer class="footer">
      <div class="container">
        <ul class="bs-docs-footer-links text-muted">
          <li>© Copyright 2015 by Kevin Darty</li>
          <li>&middot;</li>
          <li><a href="http://www.KevinDarty.net">blog</a></li>
          <li>&middot;</li>
          <li><a href="http://plus.google.com/+KevinDarty/about">google+</a></li>
          <li>&middot;</li>
          <li><a href="https://twitter.com/kdarty">twitter</a></li>
          <li>&middot;</li>
          <li><a href="http://www.linkedin.com/in/kevindarty">LinkedIn</a></li>
        </ul>
      </div>
    </footer>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="js/bootstrap/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="js/bootstrap/ie10-viewport-bug-workaround.js"></script>
    <script>
      $(function () {    
        $.get("https://script.google.com/macros/s/AKfycby6MeQVasDHQuf__Ar82GRJx3M900SgLvPKhtvI70-Bph927D0/exec", function(data) {
          var $XML = $(data);
          var feedHtml;
          $XML.find("item").each(function() {
              var $this = $(this),
                  item = {
                      title:       $this.find("title").text(),
                      link:        $this.find("link").text(),
                      description: $this.find("description").text(),
                      pubDate:     $this.find("pubDate").text(),
                      author:      $this.find("author").text()
                  };
              
              var pubDate = new Date(item.pubDate);
              var pubDateString = pubDate.toLocaleDateString() + " " + 
                                  pubDate.toLocaleTimeString();

              feedHtml = "<div class='card'>" + item.description + 
                "<p style='text-align: right'>" + pubDateString + "</p></div><br />";
              $("#feedContent").append(feedHtml);
           });
        });
      });
    </script>
  </body>
</html>
